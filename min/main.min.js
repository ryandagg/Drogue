var GameSpace=function(){var t=function(t){return"#column-"+String(t[0])+"-row-"+String(t[1])},i=function(t,i){this.rows=i,this.columns=t,this.map=[],this.tileMatrixGenerator=function(){for(var t=0;t<this.rows;t++){for(var i=[],o=0;o<this.columns;o++)i.push([o,t]);this.map.push(i)}},this.createMap=function(){o.tileMatrixGenerator()},this.drawMap=function(){$("#game-window").empty(),this.createMap();var t=$("#game-window-template").html(),i=Handlebars.compile(t),n=0;Handlebars.registerHelper("columnCounter",function(){return n%o.columns}),Handlebars.registerHelper("rowCounter",function(){return n++,Math.floor(n/o.columns)}),$("#game-window").append(i(o))}},o=new i(60,40),n=function(t){this.classCSS="impassable",this.location=t},r=function(t){n.call(this,t),this.color="grey",this.icon="hash"};r.prototype=new n,r.prototype.constructor=r;var s=function(){var i=new r([0,0]);console.log(i),console.log(t(i.location)),$(t(i.location)).addClass("icon-hash")},e=function(){this.position=[Math.floor(o.columns/2),Math.floor(o.rows/2)],this.placeCharacter=function(){$("#column-"+String(this.position[0])+"-row-"+String(this.position[1])).append("<div id='character'>@</div>")},this.updateCharacterPosition=function(){$("#character").remove(),$("#column-"+String(this.position[0])+"-row-"+String(this.position[1])).append("<div id='character'>@</div>")},this.moveCharacter=function(t){108===t?this.position[0]++:104===t?this.position[0]--:106===t?this.position[1]++:107===t?this.position[1]--:117===t?(this.position[1]--,this.position[0]++):121===t?(this.position[1]--,this.position[0]--):110===t?(this.position[1]++,this.position[0]++):98===t&&(this.position[1]++,this.position[0]--),this.updateCharacterPosition()}},a=new e,c=function(){console.log("init called"),o.drawMap(),a.placeCharacter(),s()};return{init:c,rogue:a}}();$(document).on("ready",function(){GameSpace.init(),$(document).keypress(function(t){GameSpace.rogue.moveCharacter(t.charCode)})});